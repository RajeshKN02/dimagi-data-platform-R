[
   {
      "table":"aggregate_lifetime_interactions",
      "by":[
         "domain",
         "user_id",
         "user_pk"
      ],
      "components":[
         {
            "table":"visit_detail",
            "columns":{
               "date_first_visit":"date_first_visit",
               "date_last_visit":"date_last_visit",
               "nvisits":"nvisits",
               "days_on_cc":"days_on_cc",
               "days_visit_last":"days_visit_last",
               "active_user":"active_user",
               "calendar_month_on_cc":"calendar_month_on_cc",
               "active_months":"active_months",
               "active_month_percent":"active_month_percent",
               "active_days":"active_days",
               "active_day_percent":"active_day_percent",
               "nforms":"nforms",
               "median_visit_duration":"median_visit_duration",
               "median_visits_per_day":"median_visits_per_day",
               "median_visits_per_month":"median_visits_per_month",
               "median_time_elapsed_btw_visits":"median_time_elapsed_btw_visits",
               "batch_entry_visit":"batch_entry_visit",
               "batch_entry_percent":"batch_entry_percent",
               "morning":"morning",
               "afternoon":"afternoon",
               "evening":"evening",
               "night":"night",
               "time_using_cc":"time_using_cc"
            }
         },
         {
            "table":"interactions",
            "columns":{
               "ncases_registered":"ncases_registered",
               "register_followup":"register_followup",
               "case_register_followup_rate":"case_register_followup_rate",
               "ncases_opened":"ncases_opened",
               "ncases_touched":"ncases_touched",
               "nunique_followups":"nunique_followups"
            }
         },
         {
            "table":"device_type",
            "columns":{
               "summary_device_type":"summary_device_type"
            }
         },
         {
            "table":"device_log_types_by_user",
            "columns":{
               "total_logs":"total_logs",
               "audio_plays":"audio_plays",
               "network_warnings":"network_warnings"
            }
         }
      ]
   },
   {
      "table":"aggregate_monthly_interactions",
      "by":[
         "domain",
         "user_id",
         "user_pk",
         "month.index"
      ],
      "components":[
         {
            "table":"visit_detail",
            "columns":{
               "date_first_visit":"date_first_visit",
               "date_last_visit":"date_last_visit",
               "nvisits":"nvisits",
               "days_on_cc":"days_on_cc",
               "active_days":"active_days",
               "active_day_percent":"active_day_percent",
               "nforms":"nforms",
               "median_visit_duration":"median_visit_duration",
               "median_visits_per_day":"median_visits_per_day",
               "median_time_elapsed_btw_visits":"median_time_elapsed_btw_visits",
               "batch_entry_visit":"batch_entry_visit",
               "batch_entry_percent":"batch_entry_percent",
               "morning":"morning",
               "afternoon":"afternoon",
               "evening":"evening",
               "night":"night",
               "numeric_index":"numeric_index",
               "time_using_cc":"time_using_cc"
            }
         },
         {
            "table":"interactions",
            "columns":{
               "ncases_registered":"ncases_registered",
               "register_followup":"register_followup",
               "case_register_followup_rate":"case_register_followup_rate",
               "ncases_opened":"ncases_opened",
               "ncases_touched":"ncases_touched",
               "nunique_followups":"nunique_followups"
            }
         },
         {
            "table":"device_type",
            "columns":{
               "summary_device_type":"summary_device_type"
            }
         },
         {
            "table":"device_log_types_by_user",
            "columns":{
               "total_logs":"total_logs",
               "audio_plays":"audio_plays",
               "network_warnings":"network_warnings"
            }
         }
      ]
   },
  {
    table":"aggregate_monthly_interactions_by_case_type",
      "by":[
         "domain",
         "user_id",
         "user_pk",
         "month.index",
         "case_type"
      ],
      "components":[
         {
            "table":"interactions",
            "columns":{
               "median_days_btw_followup":"median_days_btw_followup"
            }
         }
      ]

  }
]