[
    {
        "database": "test",
        "table": "lifetime",

        "by": ["user_id"],

        "components": [
            {
                "database": "test",
                "table": "visits",
                "columns": {
                    "nvisits": "nrow",
                    "first_visit_date": "date_first_visit",
                    "last_visit_date": "date_last_visit",
                    "days_on_cc": "days_on_cc"
                }
            },
            {
                "database": "test",
                "table": "visits",
                "columns": {
                    "monthly_rows": "nrow"
                }
            }
        ]
    },

    {
        "database": "test",
        "table": "monthly",

        "by": ["user_id", "month.index"],

        "components": [
            {
                "database": "test",
                "table": "visits",
                "columns": {
                    "nvisits": "nrow",
                    "days_on_cc": "days_on_cc"
                }
            }
        ]
    }
]
