---
output: 
  html_document:
    toc: true
---

Comparison Report
========================================================

Split on: **`r split_by`**

Max number of splits: **`r report_options$max_groups`**

Current month: **`r cur_month`**

Running from **`r start_date`** to **`r end_date`**



### Overview Table by *Users*
```{r, results='asis', echo=FALSE}
knitr::kable(udf)
# xtable(udf, type='html')
#pander(udf)
```

### Overview Table by *Domains*
```{r, results='asis', echo=FALSE}
knitr::kable(ddf)
```



### Active users over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(active_users_table, "active_users", "month")
```

### Active domains over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(active_domains_table, "active_domains", "month")
```

### % of Android users over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(android_users_table, "perc_android_users", "month")
```

### % of Android domains over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(android_domains_table, "perc_android_domains", "month")
```

### % of self starter users over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(self_start_users_table, "perc_self_started_users", "month")
```

### % of self starter domains over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(self_start_domains_table, "perc_self_started_domains", "month")
```

### Top 5 domains by services revenue
```{r, results='asis', echo=FALSE}
knitr::kable(top_domains_df[, c(1,3)])
```

### Number of domains by services income bracket
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
plot_grouping(services_grouping)
```

### Top 5 domains by all time revenue
```{r, results='asis', echo=FALSE}
knitr::kable(top_domains_df[, c(1,2)])
```

### Number of domains by all-time income bracket
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
plot_grouping(alltime_grouping)
```

### Number of median active days over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(active_days_table, "median_active_days", "month")
```

### Number of median cases touched over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(cases_touched_table, "median_cases_touched", "month")
```

### Median visit duration touched over time
```{r, echo=FALSE, warning=FALSE, fig.width=10, fig.height=6}
  custom_plot(visit_duration_table, "median_visit_duration", "month")
```
